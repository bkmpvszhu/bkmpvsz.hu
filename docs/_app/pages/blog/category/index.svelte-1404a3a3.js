import{S as I,i as L,s as O,e as g,t as m,c as p,a as v,h as C,d as f,b as q,g as E,H as d,j as k,k as w,X as P,m as y,P as A,Q as S}from"../../../chunks/vendor-48b2defe.js";function U(c,a,l){const s=c.slice();return s[1]=a[l],s}function H(c){let a,l,s=c[1].title+"",h,u,r,n=c[1].count+"",o,t;return{c(){a=g("li"),l=g("a"),h=m(s),r=m(`
      (`),o=m(n),t=m(`)
    `),this.h()},l(i){a=p(i,"LI",{});var e=v(a);l=p(e,"A",{href:!0});var _=v(l);h=C(_,s),_.forEach(f),r=C(e,`
      (`),o=C(e,n),t=C(e,`)
    `),e.forEach(f),this.h()},h(){q(l,"href",u="/blog/category/"+c[1].title)},m(i,e){E(i,a,e),d(a,l),d(l,h),d(a,r),d(a,o),d(a,t)},p(i,e){e&1&&s!==(s=i[1].title+"")&&k(h,s),e&1&&u!==(u="/blog/category/"+i[1].title)&&q(l,"href",u),e&1&&n!==(n=i[1].count+"")&&k(o,n)},d(i){i&&f(a)}}}function x(c){let a,l,s,h,u,r,n=c[0],o=[];for(let t=0;t<n.length;t+=1)o[t]=H(U(c,n,t));return{c(){a=w(),l=g("div"),s=g("h1"),h=m("All blog categories"),u=w(),r=g("ul");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){P('[data-svelte="svelte-79f4o1"]',document.head).forEach(f),a=y(t),l=p(t,"DIV",{class:!0});var e=v(l);s=p(e,"H1",{class:!0});var _=v(s);h=C(_,"All blog categories"),_.forEach(f),u=y(e),r=p(e,"UL",{});var j=v(r);for(let b=0;b<o.length;b+=1)o[b].l(j);j.forEach(f),e.forEach(f),this.h()},h(){document.title="Blog | Categories",q(s,"class","h2"),q(l,"class","compressed-content")},m(t,i){E(t,a,i),E(t,l,i),d(l,s),d(s,h),d(l,u),d(l,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null)},p(t,[i]){if(i&1){n=t[0];let e;for(e=0;e<n.length;e+=1){const _=U(t,n,e);o[e]?o[e].p(_,i):(o[e]=H(_),o[e].c(),o[e].m(r,null))}for(;e<o.length;e+=1)o[e].d(1);o.length=n.length}},i:A,o:A,d(t){t&&f(a),t&&f(l),S(o,t)}}}const Q=async({fetch:c})=>{const a=await c("/api/posts.json");let{posts:l}=await a.json(),s={};return l.forEach(u=>{var r;(r=u.categories)==null||r.forEach(n=>{s.hasOwnProperty(n)?s[n].count+=1:s[n]={title:n,count:1}})}),{props:{uniqueCategories:Object.values(s).sort((u,r)=>u.title>r.title)}}};function B(c,a,l){let{uniqueCategories:s}=a;return c.$$set=h=>{"uniqueCategories"in h&&l(0,s=h.uniqueCategories)},[s]}class V extends I{constructor(a){super();L(this,a,B,x,O,{uniqueCategories:0})}}export{V as default,Q as load};
