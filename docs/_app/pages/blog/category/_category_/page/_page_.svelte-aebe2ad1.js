import{S as V,i as F,s as M,e as P,k as h,l as A,X as N,c as b,d as u,m as k,b as H,H as y,g as _,o as d,p as R,q as j,n as U,t as w,a as z,h as E,P as q,w as B,x as $,y as D,j as X,B as I}from"../../../../../chunks/vendor-48b2defe.js";import{f as G}from"../../../../../chunks/fetchPosts-8246f299.js";import{p as C,b as J}from"../../../../../chunks/config-085cc7a9.js";import{P as K}from"../../../../../chunks/PostsList-0ef38003.js";import{P as L}from"../../../../../chunks/Pagination-ebe72911.js";import"../../../../../chunks/preload-helper-ec9aa979.js";function O(l){let n,i,c,r,o,f,a,m;return{c(){n=P("h1"),i=w("Hopp\xE1!"),c=h(),r=P("p"),o=w("Itt nincs semmi"),f=h(),a=P("a"),m=w("Vissza a f\u0151oldalra"),this.h()},l(e){n=b(e,"H1",{});var p=z(n);i=E(p,"Hopp\xE1!"),p.forEach(u),c=k(e),r=b(e,"P",{});var t=z(r);o=E(t,"Itt nincs semmi"),t.forEach(u),f=k(e),a=b(e,"A",{href:!0});var s=z(a);m=E(s,"Vissza a f\u0151oldalra"),s.forEach(u),this.h()},h(){H(a,"href","/")},m(e,p){_(e,n,p),y(n,i),_(e,c,p),_(e,r,p),y(r,o),_(e,f,p),_(e,a,p),y(a,m)},p:q,i:q,o:q,d(e){e&&u(n),e&&u(c),e&&u(r),e&&u(f),e&&u(a)}}}function Q(l){let n,i=S(l[1])+"",c,r,o,f,a,m,e,p;return o=new L({props:{currentPage:l[0],totalPosts:l[2],path:"/blog/category/"+l[1]+"/page"}}),a=new K({props:{posts:l[3]}}),e=new L({props:{currentPage:l[0],totalPosts:l[2],path:"/blog/category/"+l[1]+"/page"}}),{c(){n=P("h1"),c=w(i),r=h(),B(o.$$.fragment),f=h(),B(a.$$.fragment),m=h(),B(e.$$.fragment)},l(t){n=b(t,"H1",{});var s=z(n);c=E(s,i),s.forEach(u),r=k(t),$(o.$$.fragment,t),f=k(t),$(a.$$.fragment,t),m=k(t),$(e.$$.fragment,t)},m(t,s){_(t,n,s),y(n,c),_(t,r,s),D(o,t,s),_(t,f,s),D(a,t,s),_(t,m,s),D(e,t,s),p=!0},p(t,s){(!p||s&2)&&i!==(i=S(t[1])+"")&&X(c,i);const g={};s&1&&(g.currentPage=t[0]),s&4&&(g.totalPosts=t[2]),s&2&&(g.path="/blog/category/"+t[1]+"/page"),o.$set(g);const T={};s&8&&(T.posts=t[3]),a.$set(T);const v={};s&1&&(v.currentPage=t[0]),s&4&&(v.totalPosts=t[2]),s&2&&(v.path="/blog/category/"+t[1]+"/page"),e.$set(v)},i(t){p||(j(o.$$.fragment,t),j(a.$$.fragment,t),j(e.$$.fragment,t),p=!0)},o(t){d(o.$$.fragment,t),d(a.$$.fragment,t),d(e.$$.fragment,t),p=!1},d(t){t&&u(n),t&&u(r),I(o,t),t&&u(f),I(a,t),t&&u(m),I(e,t)}}}function W(l){let n,i,c,r,o,f,a;document.title=n="Blog - page "+l[0];const m=[Q,O],e=[];function p(t,s){return t[3].length?0:1}return r=p(l),o=e[r]=m[r](l),{c(){i=P("meta"),c=h(),o.c(),f=A(),this.h()},l(t){const s=N('[data-svelte="svelte-1qczpud"]',document.head);i=b(s,"META",{"data-key":!0,name:!0}),s.forEach(u),c=k(t),o.l(t),f=A(),this.h()},h(){H(i,"data-key","description"),H(i,"name",J)},m(t,s){y(document.head,i),_(t,c,s),e[r].m(t,s),_(t,f,s),a=!0},p(t,[s]){(!a||s&1)&&n!==(n="Blog - page "+t[0])&&(document.title=n);let g=r;r=p(t),r===g?e[r].p(t,s):(U(),d(e[g],1,1,()=>{e[g]=null}),R(),o=e[r],o?o.p(t,s):(o=e[r]=m[r](t),o.c()),j(o,1),o.m(f.parentNode,f))},i(t){a||(j(o),a=!0)},o(t){d(o),a=!1},d(t){u(i),t&&u(c),e[r].d(t),t&&u(f)}}}const ot=async({fetch:l,params:n})=>{try{const i=n.page?n.page:1,{category:c}=n;if(i<=1)return{status:301,redirect:`/blog/category/${c}`};let r=i*C-C;const o=await l("/api/posts/count.json"),{total:f}=await o.json(),{posts:a}=await G({offset:r,page:i});return{status:200,props:{posts:a,page:i,category:c,totalPosts:f}}}catch(i){return{status:404,error:i.message}}};function S(l){switch(l){case"hirek":return"H\xEDrek";case"ifjusag":return"Ifj\xFAs\xE1gi esem\xE9nyek";case"kepzesek":return"Felk\xE9sz\xEDt\xE9sek, k\xE9pz\xE9sek";case"prevencio":return"Drogprevenci\xF3";default:return""}}function Y(l,n,i){let{page:c}=n,{category:r}=n,{totalPosts:o}=n,{posts:f=[]}=n;return l.$$set=a=>{"page"in a&&i(0,c=a.page),"category"in a&&i(1,r=a.category),"totalPosts"in a&&i(2,o=a.totalPosts),"posts"in a&&i(3,f=a.posts)},l.$$.update=()=>{l.$$.dirty&1,l.$$.dirty&5},[c,r,o,f]}class nt extends V{constructor(n){super();F(this,n,Y,W,M,{page:0,category:1,totalPosts:2,posts:3})}}export{nt as default,ot as load};
