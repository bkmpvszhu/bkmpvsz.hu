import{r as g,e as f}from"../chunks/ft-thZGf.js";import{p as l,s as c}from"../chunks/dVH3MccA.js";import{f as d}from"../chunks/CW1C-8is.js";import{f as u,a as P}from"../chunks/DTCZ4JCs.js";import{aq as _,at as h,z as v,ax as w,g as e,aw as s,av as b}from"../chunks/LrW1YfRQ.js";import{h as y}from"../chunks/dkrPKmHJ.js";import{s as j}from"../chunks/83R49Fc2.js";import{P as $}from"../chunks/Bppqxtki.js";const k=async({fetch:p,params:a})=>{try{const t=a.page?parseInt(a.page):1;if(t<=1)throw g(301,"/blog");let r=t*l-l;const i=await p("/api/posts/count"),{total:n}=await i.json(),{posts:o}=await d({offset:r,page:t});return{posts:o,page:t,totalPosts:n}}catch(t){throw t.status===301?t:f(404,t.message)}},R=Object.freeze(Object.defineProperty({__proto__:null,load:k},Symbol.toStringTag,{value:"Module"}));var x=u('<meta data-key="description" name="description"/>');function T(p,a){_(a,!0);let t=s(()=>a.data.page),r=s(()=>a.data.totalPosts),i=s(()=>a.data.posts??[]);y("1k8ychv",n=>{var o=x();v(()=>j(o,"content",c)),w(()=>{b.title=`Blog - page ${e(t)??""}`}),P(n,o)});{let n=s(()=>e(t)*10-9),o=s(()=>Math.min(e(t)*10,e(r))),m=s(()=>e(r));$(p,{get posts(){return e(i)},get page(){return e(t)},get totalPosts(){return e(r)},get title(){return`Posts ${e(n)??""}â€“${e(o)??""} of ${e(m)??""}`},paginationPath:"/blog/page"})}h()}export{T as component,R as universal};
