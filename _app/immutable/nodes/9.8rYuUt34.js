import{r as M,e as O}from"../chunks/ft-thZGf.js";import{p as o,s as $}from"../chunks/dVH3MccA.js";import{f as q}from"../chunks/Q8kNcCq0.js";import{d as D,a as i,f as g}from"../chunks/DTCZ4JCs.js";import"../chunks/DIhSh0Tk.js";import{aq as H,ar as h,as as I,h as P,at as R,z as b,ax as T,L as w,Y as y,av as V,b as Y,i as A,j as C,s as l,g as j,n as E}from"../chunks/LrW1YfRQ.js";import{s as F}from"../chunks/Beaz-JwG.js";import{i as G}from"../chunks/C51wnHGB.js";import{h as J}from"../chunks/dkrPKmHJ.js";import{s as K}from"../chunks/83R49Fc2.js";import{p as N}from"../chunks/fKTanhZh.js";import{a as x,P as Q}from"../chunks/DKPp-AFh.js";const U=async({fetch:m,params:n})=>{try{const t=n.page?parseInt(n.page):1;if(t<=1)throw M(301,"/");const p=(t-1)*o,f=await m("/api/posts/count"),{total:e}=await f.json(),{posts:r}=await q({offset:p,limit:o});return{posts:r,page:t,totalPosts:e}}catch(t){throw t.status===301?t:O(404,t.message)}},lt=Object.freeze(Object.defineProperty({__proto__:null,load:U},Symbol.toStringTag,{value:"Module"}));var W=g('<meta data-key="description"/>'),X=g("<h1> </h1> <!> <!> <!>",1),Z=g('<p><strong>Hoppá!</strong> Sajnos ebben a kategóriában még nincs egy poszt sem.</p> <p><a href="/">Vissza a főoldalra</a></p>',1);function gt(m,n){H(n,!1);const t=y(),p=y();let f=N(n,"data",8);const{page:e,totalPosts:r,posts:_=[]}=f();h(()=>o,()=>{w(t,e*o-(o-1)||1)}),h(()=>o,()=>{w(p,Math.min(e*o,r))}),I();var u=D();J("1vrl6vw",a=>{var s=W();b(()=>K(s,"name",$)),T(()=>{V.title=`Blog - page ${e??""}`}),i(a,s)});var k=P(u);{var z=a=>{var s=X(),c=P(s),S=A(c);C(c);var d=l(c,2);x(d,{get currentPage(){return e},get totalPosts(){return r}});var v=l(d,2);Q(v,{get posts(){return _}});var L=l(v,2);x(L,{get currentPage(){return e},get totalPosts(){return r}}),b(()=>F(S,`Posts ${j(t)??""}–${j(p)??""} of ${r??""}`)),i(a,s)},B=a=>{var s=Z();E(2),i(a,s)};G(k,a=>{Y(()=>_.length)?a(z):a(B,!1)})}i(m,u),R()}export{gt as component,lt as universal};
