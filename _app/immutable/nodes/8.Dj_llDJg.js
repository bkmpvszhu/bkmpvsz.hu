import{r as f,e as m}from"../chunks/ft-thZGf.js";import{p as i}from"../chunks/dVH3MccA.js";import{f as u}from"../chunks/Bd7pBv-A.js";import"../chunks/DTCZ4JCs.js";import{aq as d,at as P,ax as h,g as o,aw as r,av as y}from"../chunks/LrW1YfRQ.js";import{h as _}from"../chunks/dkrPKmHJ.js";import{P as w}from"../chunks/Bppqxtki.js";import{g as l}from"../chunks/DcNclW9C.js";const b=async({fetch:g,params:e})=>{try{const t=e.page?parseInt(e.page):1,{category:a}=e;if(t<=1)throw f(301,`/blog/category/${a}`);let n=t*i-i;const p=await g(`/api/posts/category/${a}/count`),{total:s}=await p.json(),{posts:c}=await u({offset:n,page:t,category:a});return{posts:c,page:t,category:a,totalPosts:s}}catch(t){throw t.status===301?t:m(404,t.message)}},q=Object.freeze(Object.defineProperty({__proto__:null,load:b},Symbol.toStringTag,{value:"Module"}));function B(g,e){d(e,!0);let t=r(()=>e.data.page),a=r(()=>e.data.category),n=r(()=>e.data.totalPosts),p=r(()=>e.data.posts??[]);_("1pezhwh",s=>{h(c=>{y.title=`Blog - ${c??""} - page ${o(t)??""}`},[()=>l(o(a))])});{let s=r(()=>l(o(a)));w(g,{get posts(){return o(p)},get page(){return o(t)},get totalPosts(){return o(n)},get title(){return o(s)},get paginationPath(){return`/blog/category/${o(a)??""}/page`}})}P()}export{B as component,q as universal};
